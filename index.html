<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kris3DLab Store</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --green:#00ff88;
  --dark:#050505;
  --card:#0e0e0e;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Orbitron',sans-serif;
  background:radial-gradient(circle at top,#063820,#000);
  color:white;
}

/* NAV */
nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:16px;
  border-bottom:1px solid var(--green);
  backdrop-filter:blur(10px);
}
.logo{color:var(--green);font-size:1.4rem}
nav button{
  background:none;
  border:1px solid var(--green);
  color:var(--green);
  padding:8px 14px;
  border-radius:10px;
  cursor:pointer;
}
nav button:hover{background:var(--green);color:black}

/* SECTIONS */
section{
  display:none;
  padding:40px 20px;
  max-width:1100px;
  margin:auto;
}
section.active{
  display:block;
  animation:fade .5s ease;
}
@keyframes fade{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:25px;
}

/* CARD */
.card{
  background:linear-gradient(145deg,#0b0b0b,#141414);
  border:1px solid var(--green);
  border-radius:18px;
  padding:22px;
  box-shadow:0 0 30px rgba(0,255,140,.15);
  transition:.3s;
  position:relative;
}
.card:hover{
  transform:translateY(-8px) scale(1.03);
  box-shadow:0 0 50px rgba(0,255,140,.35);
}
.badge{
  position:absolute;
  top:15px;right:15px;
  background:#ffb000;
  color:black;
  padding:5px 10px;
  font-size:.7rem;
  border-radius:50px;
}
.price{color:var(--green);font-size:1.4rem;margin:10px 0}

/* BUTTON */
.btn{
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  background:var(--green);
  color:black;
  font-weight:bold;
  cursor:pointer;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 10px var(--green)}
  50%{box-shadow:0 0 25px var(--green)}
  100%{box-shadow:0 0 10px var(--green)}
}

/* CART */
.cart-item{
  display:flex;
  justify-content:space-between;
  padding:14px;
  background:#111;
  border-radius:10px;
  margin-bottom:10px;
  animation:add .4s ease;
}
@keyframes add{
  from{opacity:0;transform:scale(.8)}
  to{opacity:1;transform:scale(1)}
}

/* PROFILE */
.avatar{
  width:110px;height:110px;
  border-radius:50%;
  border:2px solid var(--green);
  object-fit:cover;
  margin-bottom:15px;
}

/* INPUT */
input{
  width:100%;
  padding:14px;
  margin-bottom:14px;
  background:#111;
  border:1px solid var(--green);
  border-radius:10px;
  color:white;
}

/* FOOTER */
footer{
  text-align:center;
  padding:30px;
  color:#555;
}
</style>
</head>

<body>

<nav>
  <div class="logo">Kris3DLab</div>
  <div>
    <button onclick="show('home')">Home</button>
    <button onclick="show('models')">Modellek</button>
    <button onclick="show('cart')">Kosár (<span id="cartCount">0</span>)</button>
    <button onclick="show(user?'profile':'auth')">Profil</button>
  </div>
</nav>

<section id="home" class="active">
  <h1>Roblox 3D Modellek</h1>
  <p>RBXM fájlok játékfejlesztéshez</p>

  <div class="card" style="margin-top:30px">
    <h3>Saját modellt szeretnél?</h3>
    <p>Keress meg:</p>
    <p style="color:var(--green)">
      YouTube: @kris3dlab<br>
      Gmail: kris3dlab@gmail.com
    </p>
  </div>
</section>

<section id="models">
  <h2>Elérhető csomagok</h2>
  <div class="grid">
    <div class="card">
      <div class="badge">Hamarosan</div>
      <h3>Roblox City Pack</h3>
      <p>Városi elemek</p>
      <div class="price">4 500 Ft</div>
      <button class="btn" onclick="addToCart('City Pack',4500)">Kosárba</button>
    </div>

    <div class="card">
      <div class="badge">Hamarosan</div>
      <h3>Weapon Pack</h3>
      <p>Fegyver modellek</p>
      <div class="price">3 200 Ft</div>
      <button class="btn" onclick="addToCart('Weapon Pack',3200)">Kosárba</button>
    </div>
  </div>
</section>

<section id="auth">
  <h2>Belépés</h2>
  <button class="btn" onclick="googleLogin()">Google belépés</button>
</section>

<section id="profile">
  <h2>Profil</h2>
  <img id="avatar" class="avatar">
  <input type="file" onchange="uploadAvatar(this)">
</section>

<section id="cart">
  <h2>Kosár</h2>
  <div id="cartList"></div>
  <button class="btn" onclick="purchase()">Vásárlás (PayPal)</button>
</section>

<section id="download">
  <h2>Letöltés</h2>
  <a class="btn" href="model.rbxm" download>RBXM letöltése</a>
</section>

<footer>© Kris3DLab</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAKPeCA8eZ8lGtXqqpuxpTiiWhmyU09_g",
  authDomain: "kris3dlab-store.firebaseapp.com",
  projectId: "kris3dlab-store",
  storageBucket: "kris3dlab-store.appspot.com",
  messagingSenderId: "635912892516",
  appId: "1:635912892516:web:20fd204d609b07f16b2f71"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const provider = new GoogleAuthProvider();

window.googleLogin = async () => {
  const res = await signInWithPopup(auth, provider);
  const u = res.user;
  await setDoc(doc(db,"users",u.uid),{
    name:u.displayName,
    email:u.email,
    photo:u.photoURL,
    admin:false
  },{merge:true});
  user=u;
  show('profile');
};
</script>

<script>
let cart=[];
let user=null;

function show(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function addToCart(name,price){
  cart.push({name,price});
  updateCart();
}

function updateCart(){
  cartCount.innerText=cart.length;
  cartList.innerHTML='';
  cart.forEach(i=>{
    cartList.innerHTML+=`
      <div class="cart-item">
        <div>${i.name}</div>
        <div>${i.price} Ft</div>
      </div>`;
  });
}

function uploadAvatar(input){
  const r=new FileReader();
  r.onload=()=>avatar.src=r.result;
  r.readAsDataURL(input.files[0]);
}

function purchase(){
  if(cart.length===0)return;
  show('download');
}
</script>

</body>
</html>
